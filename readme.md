# Фильмопоиск

## Запуск
1. Склонировать ветку *master*
2. Создать *.env* файл и установить переменные, как в *.env.example*
3. ```npm i```
4. ```npm dev```

### Использованные технологии
1. React + React-router-dom
2. React redux + RTK Query
3. TypeScript
4. Axios
5. Eslint + Prettier
6. SCSS modules
7. FSD архитектура
8. Storybook

### Страницы
1. */* - основная страница со всеми фильмами
2. */movies/:id* - конкретный фильм


### Дополнительное описание
Для просмотра реализованных компонентов необходимо использовать команду ```npm run sb```. В результате на 6006 порту откроется Storybook.

### Самооценка по критериям 

*Структура критерия: Статус Описание (количество баллов)*

1. Базовые требования:

    - ✅ Создан github-репозиторий, в нём есть README, gitignore, установлены все необходимые зависимости (5);

    - ✅ Проект запускается (5);

    - ✅ Вёрстка соответствует дизайн-макетам (допускаются минимальные отхождения, адаптив не требуется) (5).

2. Шапка:

    - ✅ Позиционируется липко (стики) (2).

3. Авторизация:

    - ✅ Для реализации модального окна используется портал (3);

    - ✅ После успешной авторизации кнопка «Войти» меняется на заглушку иконки пользователя и кнопку «Выйти» (2):

        - ✅ Сохраняем авторизационный токен из ответа ручки бэка /login (например, в localStorage) (4);

        - ✅ В идеале, работать с токеном через thunk (где-то в мидлваре) (3);

        - ✅ По клику на кнопку «Выйти» удаляем токен и снимает авторизацию (2);

        - ✅ При инициализации приложения проверяем авторизационный токен (2).

4. Реализована страница списка фильмов

    - Поиск:

        - ✅ Поиск происходит во время ввода пользователем символов. Дёргаем ручку /search (4).

    - Фильтры:

        - ✅ Реализованы фильтры с dropdown (4);

        - ✅ Фильтры сохраняются в query-params (3).  

    - ✅ Реализован список фильмов с пагинацией (3).

5. Страница фильма

    - Работа с получением данных:

        - ✅ Дёргаем ручку /movie (4);

        - ✅ Соответствующие данные отрисованы (3).

    - Возможность поставить оценку:

        - ✅ Есть запрос за получением оценки для фильма (3);

        - ✅ Если пользователь авторизован, даём возможность поставить оценку — запрос мутации (3);

        - ✅ После выставления оценки обновляем кеш запроса /movie (4).

6. Общий функционал

    - ✅ Реализовать единообразную обработку ошибок для запросов (2);

    - ✅ Реализован лоадер (2);

    - ✅ Используем debounce для поиска фильма и выставления оценки (4).

7. Стор

    - ✅ Используется rtk и rtk-query (4);

    - ✅ Данные корректно разбиты на модули (пример — авторизация, searchParams из фильтров) (2);

    - ✅ Селекторы написаны оптимально (нет переизбытка дублирования) (2).

8. Миграция на Next:

    - ❌ Реализована миграция с использованием SSR (0);

    - ❌ Для картинок используется Image некста. Скрины фильма, которые вне вьюпорта грузятся лениво (0);

    - ❌ Страница фильма реализована с помощью Dynamic Routes (0).

#### Суммарное ожидаемое количество баллов - 80

